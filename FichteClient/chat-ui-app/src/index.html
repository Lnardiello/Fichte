<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fichte Chat</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="auth-container" class="auth-container">
        <div class="auth-form">
            <h1>Fichte Chat</h1>
            <div class="auth-tabs">
                <button id="login-tab" class="tab-btn active">Login</button>
                <button id="register-tab" class="tab-btn">Register</button>
            </div>
            <form id="login-form" class="auth-form-content">
                <input type="text" id="login-username" placeholder="Username" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <form id="register-form" class="auth-form-content hidden">
                <input type="text" id="register-username" placeholder="Username" required>
                <input type="email" id="register-email" placeholder="Email (optional)">
                <input type="password" id="register-password" placeholder="Password" required>
                <button type="submit">Register</button>
            </form>
            <div id="auth-error" class="error-message"></div>
        </div>
    </div>
    
    <div id="main-container" class="main-wrapper hidden">
        <div class="sidebar">
            <div class="user-info">
                <div class="user-avatar"></div>
                <div class="user-details">
                    <span id="current-username"></span>
                    <span class="user-status online">Online</span>
                </div>
                <button id="logout-btn" class="logout-btn">√ó</button>
            </div>
            
            <div class="sidebar-tabs">
                <button id="contacts-tab" class="sidebar-tab active">Contacts</button>
                <button id="groups-tab" class="sidebar-tab">Groups</button>
            </div>
            
            <div id="contacts-section" class="sidebar-section">
                <div class="section-header">
                    <h3>Direct Messages</h3>
                    <button id="add-contact-btn" class="add-btn">+</button>
                </div>
                <ul id="contacts-list" class="contacts-list"></ul>
                <div class="online-users">
                    <h4>Online Users</h4>
                    <ul id="online-users-list" class="online-list"></ul>
                </div>
            </div>
            
            <div id="groups-section" class="sidebar-section hidden">
                <div class="section-header">
                    <h3>Groups</h3>
                    <button id="create-group-btn" class="add-btn">+</button>
                    <button id="join-group-btn" class="add-btn">Join</button>
                </div>
                <ul id="groups-list" class="groups-list"></ul>
            </div>
        </div>
        
        <div class="chat-container">
            <div class="chat-header">
                <h1 id="chat-title">Select a conversation</h1>
                <div class="chat-actions">
                    <button id="search-messages-btn" class="action-btn">üîç</button>
                    <button id="group-members-btn" class="action-btn hidden">üë•</button>
                </div>
            </div>
            
            <div id="search-bar" class="search-bar hidden">
                <input type="text" id="search-input" placeholder="Search messages...">
                <button id="search-btn">Search</button>
                <button id="close-search-btn">√ó</button>
            </div>
            
            <div class="chat-messages" id="chat-messages">
                <div class="welcome-message">
                    <h2>Welcome to Fichte Chat!</h2>
                    <p>Select a contact or group to start messaging</p>
                </div>
            </div>
            
            <div class="chat-input">
                <input type="text" id="message-input" placeholder="Type a message..." disabled>
                <button id="send-button" disabled>Send</button>
            </div>
        </div>
    </div>
    
    <div id="create-group-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Create Group</h3>
            <form id="create-group-form">
                <input type="text" id="group-name" placeholder="Group name" required>
                <textarea id="group-description" placeholder="Group description (optional)"></textarea>
                <input type="number" id="group-max-members" placeholder="Max members" min="2" value="50">
                <div class="modal-actions">
                    <button type="button" id="cancel-group-btn">Cancel</button>
                    <button type="submit">Create</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="group-members-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Group Members</h3>
            <ul id="group-members-list"></ul>
            <div class="invite-code-section">
                <label>Invite Code:</label>
                <div class="invite-code-display">
                    <span id="group-invite-code"></span>
                    <button id="copy-invite-btn" class="copy-btn">Copy</button>
                </div>
            </div>
            <div class="modal-actions">
                <button id="leave-group-btn" class="danger-btn">Leave Group</button>
                <button id="close-members-btn">Close</button>
            </div>
        </div>
    </div>
    
    <script src="scripts/app.js"></script>
</body>
</html>